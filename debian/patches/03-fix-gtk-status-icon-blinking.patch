From 565459ec40a9481ed26956f714203960be72c525 Mon Sep 17 00:00:00 2001
From: Ovidiu Mara <ovidiu.mara@epfl.ch>
Date: Mon, 3 Aug 2015 19:40:35 +0200
Subject: [PATCH] Systray: do not move empty icons to the side, as it breaks GTK2 StatusIcon blinking (issue #515)
Upstream-Bug: https://gitlab.com/o9000/tint2/issues/515
Origin: https://gitlab.com/o9000/tint2/commit/565459ec40a9481ed26956f714203960be72c525

---
 src/systray/systraybar.c | 3 +++
 1 file changed, 3 insertions(+), 0 deletions(-)

diff --git a/src/systray/systraybar.c b/src/systray/systraybar.c
index bafed7e..b78e913 100644
--- a/src/systray/systraybar.c
+++ b/src/systray/systraybar.c
@@ -419,10 +419,13 @@ static gint compare_traywindows(gconstpointer a, gconstpointer b)
 	const TrayWindow * traywin_a = (TrayWindow*)a;
 	const TrayWindow * traywin_b = (TrayWindow*)b;
 
+#if 0
+	// This breaks pygtk2 StatusIcon with blinking activated
 	if (traywin_a->empty && !traywin_b->empty)
 		return 1 * (systray.sort == SYSTRAY_SORT_RIGHT2LEFT ? -1 : 1);
 	if (!traywin_a->empty && traywin_b->empty)
 		return -1 * (systray.sort == SYSTRAY_SORT_RIGHT2LEFT ? -1 : 1);
+#endif
 
 	if (systray.sort == SYSTRAY_SORT_ASCENDING ||
 		systray.sort == SYSTRAY_SORT_DESCENDING) {
--
libgit2 0.22.2
